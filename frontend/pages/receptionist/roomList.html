<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/pages/receptionist/css/roomList.css">
</head>



<body>
    <!-- Header -->
    <div id="header"></div>

    <!-- Main -->
    <main>
        <div class="container mt-2">
            <div class="top-container d-flex justify-content-center">
                <div class="search-wrapper p-3 w-lg-75 w-100">
                    <div class="search-box d-flex align-items-center px-3 py-2">
                        <i class="bi bi-search fs-4 me-3"></i>
                        <input type="text" class="flex-grow-1 border-0 bg-transparent search-input"
                            placeholder="Tìm kiếm theo mã phòng, loại phòng">
                        <i class="bi bi-funnel fs-4 ms-3"></i>
                    </div>
                </div>
            </div>
            <div class="body-container">
                <div class="room-filter d-flex gap-4 flex-wrap">
                    <span class="filter-item active">Danh sách phòng</span>
                    <span class="filter-item">Phòng trống</span>
                    <span class="filter-item">Đang ở</span>
                    <span class="filter-item">Đang bảo trì</span>
                    <span class="filter-item">Phòng đang đặt cọc</span>
                    <span class="">
                        <select class="form-select" id="roomPrices">
                            <option value="0">Giá</option>
                            <option value="1">Giá ↑↓</option>
                            <option value="2">Giá ↓↑</option>
                        </select>
                    </span>
                    <span class="">
                        <select class="form-select" id="roomTypes">
                            <option value="0">Loại phòng</option>
                        </select>
                    </span>
                </div>

                <!-- Render Card Room ở đây -->
                <div class="container mt-4">
                    <div id="roomList" class="row">
                    </div>
                    <div class="d-flex justify-content-center mt-3 mb-3" id="pagination"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal Đặt Phòng -->
    <div class="modal fade" id="bookingModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Đặt phòng / Thuê phòng</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">

                    <input type="hidden" id="bookingRoomId">

                    <!-- Chọn loại tài khoản -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Khách hàng:</label>
                        <select id="accountType" class="form-select" onchange="toggleAccountFields()">
                            <option value="old">Đã có tài khoản</option>
                            <option value="new">Chưa có tài khoản</option>
                        </select>
                    </div>

                    <!-- Email + nút tìm user -->
                    <div class="mb-3">
                        <label class="form-label">Email *</label>
                        <div class="input-group">
                            <input type="email" id="email" class="form-control" required>
                            <button class="btn btn-outline-primary" type="button" onclick="findUserByEmail()">
                                Tìm user
                            </button>
                        </div>
                    </div>


                    <!-- Nếu chưa có tài khoản -->
                    <div id="newUserFields" style="display:none;">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Họ tên *</label>
                                <input type="text" id="name" class="form-control">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Số điện thoại *</label>
                                <input type="text" id="phone" class="form-control">
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">CCCD *</label>
                            <input type="text" id="cccd" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Địa chỉ *</label>
                            <input type="text" id="address" class="form-control">
                        </div>
                    </div>

                    <!-- Ngày nhận phòng & trả phòng -->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-bold">Ngày Check-in *</label>
                            <input type="date" id="checkInDate" class="form-control" required>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-bold">Ngày Check-out *</label>
                            <input type="date" id="checkOutDate" class="form-control" required>
                        </div>
                    </div>

                    <!-- Hình thức đặt -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Hình thức:</label><br>

                        <label class="me-3">
                            <input type="radio" name="bookingType" value="rent" checked
                                onchange="toggleDepositAmount()" />
                            Thuê ở ngay
                        </label>

                        <label class="ms-3">
                            <input type="radio" name="bookingType" value="deposit" onchange="toggleDepositAmount()" />
                            Đặt cọc
                        </label>
                    </div>

                    <!-- Ô nhập tiền đặt cọc -->
                    <div class="mb-3 d-none" id="depositAmountWrapper">
                        <label class="form-label fw-bold">
                            Số tiền đặt cọc (VND)
                        </label>
                        <input type="number" class="form-control" id="depositAmount" min="0"
                            placeholder="Nhập số tiền đặt cọc" />
                    </div>

                    <!-- Phương thức thanh toán -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Phương thức thanh toán *</label>
                        <select id="paymentMethod" class="form-select">
                            <option value="Tiền mặt">Tiền mặt</option>
                            <option value="Chuyển khoản">Chuyển khoản</option>
                            <option value="Momo">Momo</option>
                            <option value="ZaloPay">ZaloPay</option>
                        </select>
                    </div>

                </div>

                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button class="btn btn-primary" onclick="submitBooking()">Xác nhận</button>
                </div>

            </div>
        </div>
    </div>




    <!-- Footer -->
    <div id="footer"></div>

    <script src="/pages/receptionist/js/guard.js"></script>
    <!-- Header JS -->
    <script src="/pages/receptionist/js/headerAndFooter.js"></script>
    <!-- Room JS -->
    <script src="/pages/receptionist/js/roomList.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"></script>
    
  
</body>

</html>